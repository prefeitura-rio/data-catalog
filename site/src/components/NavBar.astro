---
import { House, List, Menu } from '@lucide/astro';
import NavLink from './NavLink.astro';
import { shouldDatasetsBeActive } from '../scripts/navigation.js';

const currentPath: string = Astro.url.pathname;
---
<nav class="bg-white shadow-sm border-b border-gray-200">
  <div class="container mx-auto px-4 max-w-6xl">
    <input type="checkbox" id="mobile-menu-toggle" class="hidden" />

    <div class="flex justify-between items-center h-16">
      <div class="flex items-center space-x-4">
        <a href="/" class="flex items-center">
          <img src="/iplanrio.gif" alt="IplanRio" class="h-8 sm:h-10 w-auto" />
        </a>
      </div>

      <div class="hidden md:flex items-center space-x-8">
        <NavLink
          href="/"
          label="Início"
          icon={House}
          currentPath={currentPath}
        />
        <NavLink
          href="/datasets/"
          label="Datasets"
          icon={List}
          currentPath={shouldDatasetsBeActive(currentPath) ? "/datasets/" : currentPath}
        />
      </div>

      <div class="md:hidden">
        <label
          for="mobile-menu-toggle"
          class="inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-blue-600 hover:bg-gray-50 transition-colors cursor-pointer"
        >
          <span class="sr-only">Abrir menu</span>
          <Menu class="w-6 h-6" />
        </label>
      </div>
    </div>

    <div class="md:hidden mobile-menu">
      <div class="px-2 pt-2 pb-3 space-y-1 border-t border-gray-200">
        <NavLink
          href="/"
          label="Início"
          icon={House}
          currentPath={currentPath}
          isMobile={true}
        />
        <NavLink
          href="/datasets/"
          label="Datasets"
          icon={List}
          currentPath={shouldDatasetsBeActive(currentPath) ? "/datasets/" : currentPath}
          isMobile={true}
        />
      </div>
    </div>
  </div>
</nav>
